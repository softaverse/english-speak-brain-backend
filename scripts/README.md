# ğŸ› ï¸ é–‹ç™¼è…³æœ¬ä½¿ç”¨æŒ‡å—

é€™å€‹ç›®éŒ„åŒ…å«äº†ä¸€ç³»åˆ—å¯¦ç”¨çš„ Bash è…³æœ¬ï¼Œç”¨æ–¼ç°¡åŒ–é–‹ç™¼æµç¨‹ã€‚

## ğŸ“ è…³æœ¬åˆ—è¡¨

### ğŸš€ å•Ÿå‹•å’Œåœæ­¢

#### `./scripts/start.sh`
å•Ÿå‹• Docker æœå‹™ï¼ˆPostgreSQL + Redisï¼‰

```bash
./scripts/start.sh
```

**åŠŸèƒ½ï¼š**
- æª¢æŸ¥ Docker æ˜¯å¦é‹è¡Œ
- å•Ÿå‹• PostgreSQL å’Œ Redis å®¹å™¨
- ç­‰å¾…å¥åº·æª¢æŸ¥é€šé
- é¡¯ç¤ºå®¹å™¨ç‹€æ…‹

---

#### `./scripts/stop.sh`
åœæ­¢æ‰€æœ‰ Docker æœå‹™

```bash
./scripts/stop.sh
```

**åŠŸèƒ½ï¼š**
- åœæ­¢ä¸¦ç§»é™¤ PostgreSQL å’Œ Redis å®¹å™¨
- æ¸…ç† Docker ç¶²çµ¡
- ä¿ç•™æ•¸æ“šå·ï¼ˆæ•¸æ“šä¸æœƒä¸Ÿå¤±ï¼‰

---

#### `./scripts/dev.sh`
å•Ÿå‹•å®Œæ•´é–‹ç™¼ç’°å¢ƒï¼ˆæ¨è–¦ï¼‰â­

```bash
./scripts/dev.sh
```

**åŠŸèƒ½ï¼š**
- è‡ªå‹•å•Ÿå‹• Docker æœå‹™
- ç­‰å¾…å®¹å™¨å°±ç·’
- å•Ÿå‹•é–‹ç™¼æœå‹™å™¨ï¼ˆç†±é‡è¼‰ï¼‰

**é€™æ˜¯æœ€å¸¸ç”¨çš„å‘½ä»¤ï¼** ä¸€éµå•Ÿå‹•æ‰€æœ‰æœå‹™ã€‚

---

#### `./scripts/restart.sh`
é‡å•Ÿæ‰€æœ‰æœå‹™

```bash
./scripts/restart.sh
```

**åŠŸèƒ½ï¼š**
- åœæ­¢æ‰€æœ‰æœå‹™
- ç­‰å¾… 2 ç§’
- é‡æ–°å•Ÿå‹•æ‰€æœ‰æœå‹™

---

### ğŸ—„ï¸ æ•¸æ“šåº«ç®¡ç†

#### `./scripts/db-setup.sh`
åˆå§‹åŒ–æ•¸æ“šåº«

```bash
./scripts/db-setup.sh
```

**åŠŸèƒ½ï¼š**
- ç”Ÿæˆ Prisma Client
- é‹è¡Œæ•¸æ“šåº«é·ç§»
- æ’å…¥ç¨®å­æ•¸æ“š

**ä½¿ç”¨å ´æ™¯ï¼š**
- é¦–æ¬¡è¨­ç½®é …ç›®
- æ•¸æ“šåº« schema æ›´æ–°å¾Œ

---

#### `./scripts/db-reset.sh`
é‡ç½®æ•¸æ“šåº«ï¼ˆå±éšªæ“ä½œâš ï¸ï¼‰

```bash
./scripts/db-reset.sh
```

**åŠŸèƒ½ï¼š**
- åˆªé™¤æ‰€æœ‰æ•¸æ“šå’Œæ•¸æ“šå·
- é‡æ–°å‰µå»ºå®¹å™¨
- é‹è¡Œæ•¸æ“šåº«è¨­ç½®

**è­¦å‘Šï¼š** é€™æœƒåˆªé™¤æ‰€æœ‰æ•¸æ“šï¼ä½¿ç”¨å‰æœƒè¦æ±‚ç¢ºèªã€‚

---

### ğŸ“Š ç›£æ§å’Œèª¿è©¦

#### `./scripts/status.sh`
æŸ¥çœ‹æ‰€æœ‰æœå‹™ç‹€æ…‹

```bash
./scripts/status.sh
```

**é¡¯ç¤ºï¼š**
- Docker å®¹å™¨ç‹€æ…‹
- ç«¯å£ä½”ç”¨æƒ…æ³ï¼ˆ5433, 6379, 3001ï¼‰
- Docker æ•¸æ“šå·
- å¿«é€Ÿå‘½ä»¤æç¤º

---

#### `./scripts/logs.sh`
æŸ¥çœ‹ Docker æ—¥èªŒ

```bash
# æŸ¥çœ‹æ‰€æœ‰æœå‹™æ—¥èªŒ
./scripts/logs.sh

# æŸ¥çœ‹ç‰¹å®šæœå‹™æ—¥èªŒ
./scripts/logs.sh postgres
./scripts/logs.sh redis
```

**åŠŸèƒ½ï¼š**
- å¯¦æ™‚é¡¯ç¤ºå®¹å™¨æ—¥èªŒ
- æ”¯æŒç¯©é¸ç‰¹å®šæœå‹™
- Ctrl+C åœæ­¢æŸ¥çœ‹

---

#### `./scripts/test.sh`
æ¸¬è©¦ API ç«¯é»

```bash
./scripts/test.sh
```

**æ¸¬è©¦å…§å®¹ï¼š**
1. Health Check (`/health`)
2. API Version (`/api/version`)
3. 404 éŒ¯èª¤è™•ç†

**å‰ææ¢ä»¶ï¼š** é–‹ç™¼æœå‹™å™¨å¿…é ˆé‹è¡Œä¸­

---

### ğŸ§¹ æ¸…ç†

#### `./scripts/clean.sh`
æ¸…ç†é …ç›®æ–‡ä»¶

```bash
./scripts/clean.sh
```

**æ¸…ç†å…§å®¹ï¼š**
- `dist/` - æ§‹å»ºç”¢ç‰©
- `logs/` - æ—¥èªŒæ–‡ä»¶
- `uploads/` - ä¸Šå‚³çš„æ–‡ä»¶
- `node_modules/` - ä¾è³´åŒ…ï¼ˆå¯é¸ï¼‰

**ä½¿ç”¨å ´æ™¯ï¼š**
- æ§‹å»ºå‡ºå•é¡Œæ™‚
- æ¸…ç†èˆŠæ—¥èªŒå’Œæ–‡ä»¶
- é‡æ–°å®‰è£ä¾è³´

---

## ğŸ¯ å¸¸ç”¨å·¥ä½œæµ

### é¦–æ¬¡è¨­ç½®é …ç›®

```bash
# 1. å®‰è£ä¾è³´
npm install

# 2. å•Ÿå‹• Docker æœå‹™
./scripts/start.sh

# 3. åˆå§‹åŒ–æ•¸æ“šåº«
./scripts/db-setup.sh

# 4. å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
npm run dev
```

æˆ–è€…æ›´ç°¡å–®ï¼š

```bash
npm install
./scripts/db-setup.sh  # å‰æï¼šDocker å·²å•Ÿå‹•
./scripts/dev.sh       # é€™æœƒè‡ªå‹•å•Ÿå‹• Docker + é–‹ç™¼æœå‹™å™¨
```

---

### æ—¥å¸¸é–‹ç™¼

```bash
# å•Ÿå‹•é–‹ç™¼ç’°å¢ƒï¼ˆæ¨è–¦ï¼‰
./scripts/dev.sh

# æˆ–è€…åˆ†é–‹å•Ÿå‹•
./scripts/start.sh  # å•Ÿå‹• Docker
npm run dev         # å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
```

---

### æ•¸æ“šåº«æ›´æ–°å¾Œ

```bash
# é‹è¡Œæ–°çš„é·ç§»
npm run db:migrate

# æˆ–è€…å®Œæ•´è¨­ç½®
./scripts/db-setup.sh
```

---

### é‡åˆ°å•é¡Œæ™‚

```bash
# 1. æŸ¥çœ‹æœå‹™ç‹€æ…‹
./scripts/status.sh

# 2. æŸ¥çœ‹æ—¥èªŒ
./scripts/logs.sh

# 3. é‡å•Ÿæœå‹™
./scripts/restart.sh

# 4. å¦‚æœé‚„æ˜¯æœ‰å•é¡Œï¼Œé‡ç½®æ•¸æ“šåº«
./scripts/db-reset.sh
```

---

### çµæŸå·¥ä½œ

```bash
# åœæ­¢æ‰€æœ‰æœå‹™
./scripts/stop.sh

# Docker æ•¸æ“šæœƒä¿ç•™ï¼Œä¸‹æ¬¡å•Ÿå‹•æ•¸æ“šé‚„åœ¨
```

---

## ğŸ’¡ æç¤º

### è…³æœ¬æ¬Šé™

æ‰€æœ‰è…³æœ¬å·²æ·»åŠ åŸ·è¡Œæ¬Šé™ã€‚å¦‚æœé‡åˆ°æ¬Šé™å•é¡Œï¼š

```bash
chmod +x scripts/*.sh
```

### Docker å¿…é ˆé‹è¡Œ

å¤§éƒ¨åˆ†è…³æœ¬éœ€è¦ Docker Desktop æ­£åœ¨é‹è¡Œã€‚å¦‚æœçœ‹åˆ°éŒ¯èª¤ï¼š
```
âŒ Error: Docker is not running
```

è«‹å…ˆå•Ÿå‹• Docker Desktopã€‚

### ç«¯å£è¡çª

å¦‚æœç«¯å£è¢«ä½”ç”¨ï¼š
- **PostgreSQL (5433)**: æœ¬æ©Ÿ PostgreSQL ä½”ç”¨ 5432ï¼Œæ‰€ä»¥ç”¨ 5433
- **Redis (6379)**: å¦‚æœè¢«ä½”ç”¨ï¼Œä¿®æ”¹ `docker-compose.dev.yml`
- **API (3001)**: å¦‚æœè¢«ä½”ç”¨ï¼Œä¿®æ”¹ `.env` ä¸­çš„ `PORT`

---

## ğŸ› æ•…éšœæ’é™¤

### è…³æœ¬ç„¡æ³•åŸ·è¡Œ

```bash
# ç¢ºä¿æœ‰åŸ·è¡Œæ¬Šé™
chmod +x scripts/*.sh

# ä½¿ç”¨ bash æ˜ç¢ºåŸ·è¡Œ
bash scripts/start.sh
```

### Docker å®¹å™¨ç„¡æ³•å•Ÿå‹•

```bash
# æŸ¥çœ‹è©³ç´°æ—¥èªŒ
./scripts/logs.sh

# å®Œå…¨æ¸…ç†ä¸¦é‡æ–°é–‹å§‹
docker-compose -f docker-compose.dev.yml down -v
./scripts/start.sh
```

### æ•¸æ“šåº«é€£æ¥å¤±æ•—

```bash
# æª¢æŸ¥å®¹å™¨ç‹€æ…‹
./scripts/status.sh

# ç¢ºä¿å®¹å™¨å¥åº·
docker ps

# æŸ¥çœ‹ PostgreSQL æ—¥èªŒ
./scripts/logs.sh postgres
```

---

## ğŸ“š æ›´å¤šè³‡æº

- [DEVELOPMENT.md](../DEVELOPMENT.md) - å®Œæ•´é–‹ç™¼æŒ‡å—
- [ARCHITECTURE.md](../ARCHITECTURE.md) - ç³»çµ±æ¶æ§‹
- [README.md](../README.md) - é …ç›®æ¦‚è¦½

---

**ç¥é–‹ç™¼é †åˆ©ï¼** ğŸš€
